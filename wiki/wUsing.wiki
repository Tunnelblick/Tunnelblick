#summary Using Tunnelblick
#labels Deprecated
#sidebar wSb

This document describes how to use Tunnelblick version 3.1beta02.

<wiki:toc max_depth="2" />

==Starting Tunnelblick==
To launch Tunnelblick after setting up configuration and other files, double-click Tunnelblick in the Applications folder or double-click "Launch Tunnelblick" in the configurations folder. If you do not quit Tunnelblick before logging out or shutting down your computer, it will automatically be launched the next time you log in.

==Quitting Tunnelblick==
To quit Tunnelblick, click on the Tunnelblick icon in the Status Bar at the top of your screen between the time and the Spotlight icon, then click on "Quit". Or type Command-Q when the Details or About window is at the front of the display.
  * When you quit Tunnelblick, all open connections will be closed except those for configurations which have automatically connect "when the computer starts" selected.

  * If you quit Tunnelblick, it will not be launched automatically the next time you log in.
 
==Normal Tunnelblick Operation==
Once Tunnelblick has been launched, you control it from the Tunnelblick icon in the Status Bar at the top of your screen. The Tunnelblick icon is usually placed between the time and the Spotlight icon. When no VPN connection is active, the icon is dark, indicating a closed tunnel:

http://tunnelblick.googlecode.com/files/using-tunnelblick-closed-2010-02-04.png

If you click on the icon, you'll see a drop down menu similar to the following:

http://tunnelblick.googlecode.com/files/using-tunnelblick-menu-2010-02-06.png

There will be a "Connect” menu item for each available configuration. Click on one to establish the corresponding VPN connection. To illustrate the connection being established, a dash will appear in the menu item and the Tunnelblick icon will darken and lighten repeatedly. If the connection is successfully opened, the icon will change to show an open tunnel:

http://tunnelblick.googlecode.com/files/using-tunnelblick-open-2010-02-04.png

Depending on your setup, you may be asked for a passphrase or username/password combination. You can save your passphrase or username and password in Apple's Keychain by checking the appropriate checkbox.

The connection will be active as long as you do not end it or log out^*^. Putting your computer to sleep will close the connection but upon waking up from sleep Tunnelblick will attempt to reestablish the connection. If Tunnelblick loses contact with the server (because of a lack of wireless signal, for example), it will periodically try to re-establish the connection.

If a connection error occurs, or in the unlikely event of an interface crash, Tunnelblick will terminate the VPN tunnel and record the error in the Console Log.

Use "Disconnect” from the drop-down menu to close the VPN connection. Use "Quit” to close all open connections^*^ and quit the program and prevent Tunnelblick from starting itself at your next login at your computer.

^*^ Tunnelblick will not close a connection for a configuration that is set up to automatically connect "when the computer starts" if you log out or quit Tunnelblick. The connection will remain open until your computer shuts down or you specifically disconnect it.

If Tunnelblick is running when you logout (or your computer crashes, or is shut down or restarted), then Tunnelblick will be started automatically upon login. To stop Tunnelblick from being started automatically upon login, be sure to quit Tunnelblick before logging out, either by using the "Quit” command, or by using Command-Q (Apple-Q) when the "Details” or "About…” window is active. (Don't confuse this automatic launch of Tunnelblick upon login with the "Automatically connect on launch” option, which causes a connection to be established when Tunnelblick is launched.)

==The "Options…" Submenu==
When the Tunnelblick menu is displayed, if you hover over "Options", the Options Submenu appears:

http://tunnelblick.googlecode.com/files/using-tunnelblick-options-menu-2010-02-06.png

Click on an item in the Options Submenu to change a [wPrefs reference], check for updates, or display the "About" window.

Some deployed versions of Tunnelblick do not display the Options Submenu, in which case the "Options" menu item is replaced by "About Tunnelblick..."

==The "Details" Window==
When the Tunnelblick menu is displayed, if you click on "Details…” a window similar to the following will appear:

http://tunnelblick.googlecode.com/files/using-tunnelblick-details-2010-05-12.png

The window will contain a tab for each configuration and the title of the window will show the name of the currently selected configuration and its availability (Private, Shared, or Deployed).

Each tab in the window contains a pane with the OpenVPN log for the connection and controls that provide options for that connection. The title of the tab shows the current status of the configuration and, if connected, the time since it was connected. The controls for each configuration are:

    * "Automatically connect” causes the configuration to be connected when Tunnelblick is launched (started) or when the computer starts, as indicated. You can only choose "when the computer starts" for  [wPkgs Tunnelblick VPN Configurations] or [wCusDeployed "Deployed"] configurations; that choice will be dimmed for configurations based on .ovpn or .conf files.

    * "Set nameserver” causes scripts to be run before a connection is opened and after the connection is closed. The scripts save and restore DHCP DNS and WINS information. This checkbox is involved in Tunnelbick's setup for the configuration. See [wConfigT Configuring Tunnelblick].

    * "Monitor connection" causes the network connection to be monitored for changes. It is available only when "Set nameserver" is checked. When a change is detected, the connection will be disconnected and reconnected.  This checkbox is involved in Tunnelbick's setup for the configuration. See [wConfigT Configuring Tunnelblick].

The "Details” window also contains five buttons:

    * "Clear log” clears the OpenVPN log for the connection being displayed.

    * An "Edit configuration” or "Examine configuration" button will be available and will starts TextEdit with the configuration file containing the OpenVPN configuration for the connection being displayed so it can be examined or edited. If you modify a configuration file, you will need the username and password of a computer administrator to connect using the modified configuration file. Shared and Deployed configurations may only be examined, not edited.

    * A "Share configuration" or "Make configuration private" button will be available if the configuration is a [wPkgs Tunnelblick VPN Configuration]. The button will be dimmed if the configuration is a .conf or .ovpn file. Changing the availability of a configuration requires a computer administrator username and password. Sharing a configuration makes it available to all users of a computer; making a configuration private makes it available only to the currently logged-in user

    * "Connect” opens the connection.

    * "Disconnect” closes the connection.

==Keyboard Shortcuts==
You may use the standard keyboard shortcuts in the "Details" window: 
||Command-C||Copy||
||Command-X||Cut||
||Command-V||Paste||
||Command-A||Select all the text in the log||
||Command-M||Minimize the window to the dock||
||Command-W||Close the window||
||Command-Q||Quit Tunnelblick||

==The "About…" Window==
Click on the Tunnelblick icon in the Status Bar at the top of your screen between the time and the Spotlight icon, then (if it is visible) click on "Options", then on "About…” to open a window with information about the versions of Tunnelblick and OpenVPN that are running and a link to the Tunnelblick website.

==Using More than One VPN Configuration==
You can have any number of configurations installed; each of the configurations will be available in the drop down menu and shown as a separate tab in the "Details” window.

==Connecting to More than One VPN Simultaneously==
Tunnelblick can maintain multiple simultaneous open connections to different VPNs.

However, this is for experts only:

    * If you use "Set nameserver” (which uses standard scripts to save/change/restore DNS resolution data), on one or more connections your DNS settings may not be saved and restored properly and DNS might or might not work. It depends on the order in what DNS settings you want to use and which connections are opened and closed. Connections may close and be reopened because of communications errors over which you have no control, which can cause unpredictable results. Not recommended.
    * If you don't use "Set nameserver”, and your customized configuration files are suitably written to work together with custom scripts, things can work. But if you don't handle the DNS and routing settings properly, lots of things could go wrong. So this isn't recommended either unless you really know what you're doing and have a NEED to connect to multiple VPNs simultaneously.
    * VPN administrators might not be happy that you are connecting their networks together. Most VPN client software limits you to a single connection, probably for that reason.

==Automatically Starting Tunnelblick Upon Login==
Tunnelblick was designed as a persistent menu icon that survives reboots. To this end, it inserts itself into the login items when it is started and only removes itself from the login items when you choose Quit from the menu or Command-Q from the "Details” window or "About..." window. . So if you just log out, shut down, or restart your computer, or it crashes, the next time you log in, Tunnelblick will automatically start. If you do not want Tunnelblick to start automatically, quit Tunnelblick before you log out, shut down, or restart.

==Command-Line Interface==
Tunnelblick also contains openvpnstart, an OS X command line interface to OpenVPN which provides a scriptable way to create and destroy OpenVPN tunnels. openvpnstart is located in Tunnelblick.app/Contents/Resources. For details on using openvpnstart, run it from a Terminal window with no arguments.

------------------

===PLEASE USE THE [http://groups.google.com/group/tunnelblick-discuss TUNNELBLICK DISCUSSION GROUP] FOR COMMENTS OR QUESTIONS===